{% extends "base-back.html.twig" %}

{% block pagewrapper %}
	<div class="contact-page">
		<div class="container">
			<div class="row">
				<div class="col-md-7 col-sm-6 map-wrapper">
					<h3 class="widget-title">Photo</h3>
					<div class="map-holder">
						<img width="600px" height="500px" id="output"> </img>
				</div>

			</div>
			<div class="col-md-5 col-sm-6">
				<h3 class="widget-title">Ajouter un Article Culturelle</h3>
				<div class="contact-form">

					{{ form_start(form) }}
					<span id="Descerror" style="color:red">{{ form_errors(form.titre) }}</span>
					{{ form_widget(form.titre) }}
				</br>
				<span id="Descerror" style="color:red">{{ form_errors(form.tempMoyenne) }}</span>
				{{ form_widget(form.tempMoyenne) }}
			</br>
			<span id="Descerror" style="color:red">{{ form_errors(form.description) }}</span>
			{{ form_widget(form.description) }}
		</br>
		{{ form_label(form.idGouv) }}
	</br>
	{{ form_widget(form.idGouv) }}
	{{ form_errors(form.idGouv) }}

</br>

{{ form_row(form.image)}}

<input type="submit" class="mainBtn" id="submit" value="Ajouter">

{{ form_end(form) }}
<script>
	var loadFile = function (event) {
var image = document.getElementById('output');
image.src = URL.createObjectURL(event.target.files[0]);
};
</script>
				</div><script>
let Myform = document.getElementById('contactform');
Myform.addEventListener('submit', function (e) {
var Temp = document.getElementById('TempsMoyenne').value.trim();
var Titre = document.getElementById('Titre').value.trim();
var regex = /[^a-zA-Z0-9-_ ]/g
var selec = document.getElementById('Gouvernorat').value.trim()
var Desc = document.getElementById('Description').value.trim()

if (Titre.length > 20) {
e.preventDefault()
document.getElementById("Titreerror").innerHTML = '<i class="fa-sharp fa-solid fa-circle-exclamation" style="color: #ff0000;"></i> Veuiller saisir une titre de longueur moin de 20 '
document.getElementById("Titreerror").style.color = "red"
error.style.color = "red"
} else {
let error = document.getElementById("Titreerror")
error.innerHTML = ''
}

// if (Temp === "" || Titre === "" || Temp.length > 20 || regex.test(Titre) || -90 < Temp < 94 || selec === "" || Desc === "") {
if (Desc === "") {
e.preventDefault()
let errorTemp = document.getElementById("Descerror")
errorTemp.innerHTML = '<i class="fa-sharp fa-solid fa-circle-exclamation" style="color: #ff0000;"></i> Veuiller saisir une description '
errorTemp.style.color = "red"
} else {
let errorTemp = document.getElementById("Descerror")
errorTemp.innerHTML = ''
}

if (selec === "") {
e.preventDefault()
let errorTemp = document.getElementById("Selecterror")
errorTemp.innerHTML = '<i class="fa-sharp fa-solid fa-circle-exclamation" style="color: #ff0000;"></i> Veuiller sélectionner une Gouvernorat '
errorTemp.style.color = "red"
} else {
let errorTemp = document.getElementById("Selecterror")
errorTemp.innerHTML = ''

}
if (regex.test(Titre)) {
e.preventDefault()
document.getElementById("Titreerror").innerHTML = '<i class="fa-sharp fa-solid fa-circle-exclamation" style="color: #ff0000;"></i> Le champs titre contient des caractères spéciaux '
document.getElementById("Titreerror").style.color = "red"
console.log(document.getElementById("Titreerror"))
errorTemp.style.color = "red"
} else {
document.getElementById("Titreerror").innerHTML = ''

}


if (Titre === "") {
e.preventDefault()
let errorTemp = document.getElementById("Titreerror")
errorTemp.innerHTML = '<i class="fa-sharp fa-solid fa-circle-exclamation" style="color: #ff0000;"></i>  Le champs titre est vide'
errorTemp.style.color = "red"
} else {
let errorTemp = document.getElementById("Titreerror")
errorTemp.innerHTML = ''
}

if (Temp === "") {
e.preventDefault()
let errorTemp = document.getElementById("Temperror")
errorTemp.innerHTML = '<i class="fa-sharp fa-solid fa-circle-exclamation" style="color: #ff0000;"></i>  Le champs température est vide'
errorTemp.style.color = "red"
} else {
let errorTemp = document.getElementById("Temperror")
errorTemp.innerHTML = ''
}

if (Temp > 94 || Temp < -90 || isNaN(parseInt(Temp))) {
e.preventDefault()
let errorTemp = document.getElementById("Temperror")
errorTemp.innerHTML = '<i class="fa-sharp fa-solid fa-circle-exclamation" style="color: #ff0000;"></i>  Le champs température est doit être entre -90 et 94'
errorTemp.style.color = "red"
} else {
let errorTemp = document.getElementById("Temperror")
errorTemp.innerHTML = ''

}
// }

})</script><!-- /.contact-form --></div></div></div></div>{% endblock %}
